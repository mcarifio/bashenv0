T 1600184588 18<Joel18>	so worst case, probably?
T 1600184645 18<Joel18>	Mick are you mixing up authentication with authorization? I think you might be.
T 1600184678 18<Mick18>	I don't think so?
T 1600184680 18<Mick18>	hang on
T 1600184708 18<Joel18>	I think so.
T 1600184718 18<Joel18>	Authentication = who are you
T 1600184722 18<Joel18>	Authorization = what you can do
T 1600184809 18<Mick18>	In the ALB it's all merged Joel
T 1600184926 18<Mick18>	https://snipboard.io/4BO7ND.jpg see that Joel, It forces authentication and only forwards to the relevant target if you have done
T 1600184952 18<Joel18>	where are you seeing anything about authorization?
T 1600184984 18<Mick18>	The authorization is handled by it only forwarding traffic to the target if you're authenticated
T 1600185059 18<Mick18>	it works fine for that, but what I ideally want to do is only allow specific groups to access each
T 1600185071 18<Joel18>	I really don't think you understand.
T 1600185110 18<Joel18>	You have a web app with feature foo, and feature bar. You can pay for access to these features. Cognito has no say in if a user has access to feature foo, or feature bar.
T 1600185146 18<Joel18>	cognito sends you a JWT payload, you verify it's signature, and based on the user account, your application makes AUTHORIZATION decisions to decide which features the user has access to.
T 1600185158 18<Mick18>	yes, in the client facing stuff I'm handing that
T 1600185165 18<Mick18>	that's fine
T 1600185218 18<Mick18>	this is a matter of accessing it at all or not, all authorized users have all features, so authorization is handled by only allowing authenticated users to access the target at all
T 1600185320 18<Mick18>	this is for admin tools, which don't really play nicely and I don't really want to change, so I'm trying to do authorization outside of them on the ALB
T 1600185997 18<Joel18>	nothing about authentication will care about what group a user is in.
T 1600186003 18<Joel18>	you'll have to actually do authorization
T 1600186743 18<Mick18>	That was my question, can it be done in the ALB :p
T 1600186797 18<Mick18>	It allows for implicit authorization, but doesn't it allow me to put something in the extra parameters to tell it to only forward based on the claims a user has...
T 1600186854 18<Joel18>	alb doesn't do authorization
T 1600187140 18<Mick18>	yep, looks like I'll need a new plan
T 1600188703 18<Joel18>	I wonder if groups come through the jwt payload
T 1600188724 18<Joel18>	I'd have tot hink about if that statement I made even makes any sense
T 1600188982 18<siovene18>	Hi, I'm configuring a task definition with service discovery against a PublicDnsNamespace. However, when it gets registered, the DNS resolved to the private IP of the service, so it cannot be reached from the outside. What might I be missing?
T 1600192489 18<Mick18>	You get the group names as claims under the "cognito:groups" key Joel
T 1600194988 18<Joel18>	Mick awesome, thanks for sharing.
T 1600195010 18<Joel18>	Mick can you not do the groups bit via a custom authenticator in cognito?
T 1600195024 18<Joel18>	siovene I think that's by design, but I could be wrong, jwr when he's around would know more
T 1600195079 18<siovene18>	Joel: when I was creating things manually at some point I got it working, so it's just something that I must be missing in my CF templates.
T 1600195256 18<jwr18>	siovene: "The DNS records created for a service discovery service always register with the private IP address for the task, rather than the public IP address, even when public namespaces are used" https://docs.aws.amazon.com/AmazonECS/latest/developerguide/service-discovery.html
T 1600195317 18<siovene18>	jwr: thanks! But still the service in the same VPC as the Private (or Public) DNS namespace should be able to resolve that name, no?
T 1600195347 18<jwr18>	should, yeah.
T 1600195463 18<siovene18>	ok to make sure I will create an EC2 instance on the same VPC and try `dig` and check. I have services  not going up and I'm not sure if it's because they can't resolve the other services' domain names or other reasons
T 1600195641 18<jwr18>	siovene: yes, dig @10.0.0.2 myservice.whatever should resolve, i used that same thing myself a week or so ago when i set this stuff up.
T 1600195672 18<jwr18>	and you can see the individual records in route53 as well
T 1600195719 18<siovene18>	on an unrelated node: as I'm new to CF, I've been using a different region than my live system (not based on CF or ECS), to play around without messing with the live system. Once I'm happy with the deployment, can I do it on my region where I have other services (RDS, most notable) without risking the CF stacks interfering with existing vpc/subnet/ig/etc?
T 1600196695 18<jwr18>	siovene: generally yes, as long as all the names of all the resources are unique. and if they aren't unique, your CFN stack will fail to deploy, it won't overwrite the already-existing resources.
T 1600196802 18<siovene18>	jwr: thanks, that's comforting. I want to deploy in the same region as my database for performance reasons
T 1600196834 18<siovene18>	and I also have an Elasticsearch instance that apparently cannot be made "open access" without dropping all objects (and reindexing will take > 24 hours)
T 1600197042 18<Joel18>	I would strongly urge you to never make an ES open access
T 1600197045 18<Joel18>	that's a bad BAD practice
T 1600197097 18<siovene18>	@Joel yeah exactly, I wouldn't want that :)
T 1600197699 18<realies18>	when you create a signed URL for S3 upload with a timeout, is the timeout for when you begin uploading or when the upload finishes?
T 1600197853 18<jwr18>	siovene: and be aware that if you're deploying the same template in multiple regions, any resources which use global services (like IAM) need to have unique names.
T 1600197889 18<siovene18>	jwr: yeah I noticed for IAM  roles and route 53
T 1600198950 18<jwr18>	has anybody tried out these new graviton2 instances? i know it would need a different AMI, should i expect that most or all of the same software that i use on amd64 should also be available on graviton architecture? like if i `apt-get install` something, should it mostly just work?
T 1600199275 18<deko18>	jwr: most things work, aarch64 isn't new, most distros are rather complete
T 1600199388 18<deko18>	main issue will be if you need to run any x86* binaries or libraries, for example, because your beloved proprietary software vendor doesn't provide those for aarch64
T 1600199523 18<deko18>	and especially with the free-tier T4g offer now it's a perfect time
T 1600199796 18<jwr18>	deko: yeah, i already checked one of our proprietary vendors who is very much not-beloved and they are x86 only. when you say "main issue", do you mean that's a blocker or do you mean that it can work but it's more effort?
T 1600199802 18<jwr18>	i assume it's just a straight up blocker
T 1600199838 18<deko18>	it is, i'm not aware of any emulation (and even if there were, it certainly wouldn't be worth the hassle)
T 1600202059 18<Keshu221218>	Hello, I have made a django application and environment, but now I want to delete that but when I am going in application it is not listed there although enviroment is listed in it's list.
T 1600202104 18<Keshu221218>	can you tell me how to delete the environment of EB
T 1600202976 18<kaipee18>	Is it possible to completely delete a VPC?
T 1600203018 18<deko18>	kaipee: yes, even the default VPC can be deleted
T 1600203111 18<kaipee18>	deko: How? I'm having an issue deleting a VPC which returns an error "The networkAcl 'acl-*****' has dependencies and cannot be deleted."
T 1600203146 18<kaipee18>	...and when I try to manually delete that ACL I receive the error ""
T 1600203151 18<kaipee18>	"The following network ACLs are default, and cannot be deleted"
T 1600203354 18<deko18>	kaipee: hm interesting. not sure as i've never used NACLs. maybe there's some rules on that ACL that reference something?
T 1600203411 18<kaipee18>	no subnet associations, just default Allow All rules
T 1600203466 18<kaipee18>	"You can delete a network ACL only if there are no subnets associated with it. You can't delete the default network ACL." : https://docs.aws.amazon.com/vpc/latest/userguide/vpc-network-acls.html
T 1600203513 18<kaipee18>	So as soon as I create a VPC, I automatically get a default ACL - and the default ACL cannot be deleted
T 1600203674 18<deko18>	i create and destroy VPCs pretty much daily, so it seems that something happened to that nacl config
T 1600203984 18<deko18>	maybe compare the output of "aws ec2 describe-network-acls" to that of a newly created vpc? and/or try manually deleting the subnets first, though that shouldn't be necessary
T 1600203992 18<deko18>	other than that, i'm at a loss, sorry
T 1600205049 18<impermanence4018>	any opinions about large scale rpm management across numerous aws accounts?
T 1600205060 18<impermanence4018>	products, services, etc.
T 1600205069 18<impermanence4018>	currently using katello which is not preferable
T 1600207987 18<impermanence18>	anyone around :)
T 1600207995 18<impermanence18>	how are you handling rpm management in aws?
T 1600212621 18<wyoung18>	Hey!  I would like to perform simple maths opertions in a CloudFormation template, should I create a Custom Resource to do this or a custom tempate tranform?
T 1600212643 18<wyoung18>	Any drawbacks using either of these?
T 1600213261 18<redhat18>	wyoung: custom resource
T 1600214593 18<wyoung18>	redhat: OK, done.
T 1600214609 18<wyoung18>	Cheers
T 1600254498 18<maambmb18>	Hey guys, I have a service running on ECS fargate. I want to allow users to register a custom domain to point to said service. I believe the naive approach would be to do TLS termination at the ALB and programmatically add the certs to the ALB using the AWS SDK. Obviously the limitation there is that there are only 25 certs per load balancer which
T 1600254499 18<maambmb18>	isn't ideal...
T 1600254529 18<maambmb18>	Instead, is it possible to _not_ do TLS termination at the ALB, and pass the HTTPS traffic all the way to the docker container, and do it via something like letsencrypt?
T 1600254613 18<deko18>	you can skip the ALB and roll your own loadbalancer on ECS, e.g. with an nginx container (and some letsencrypt foo added in)
T 1600254685 18<deko18>	and/or use a NLB to just forward https traffic unaltered
T 1600254820 18<maambmb18>	@deko - thanks for the suggestions
T 1600254824 18<maambmb18>	I'll look into both of those things
T 1600254829 18<maambmb18>	you legend
T 1600255124 18<deko18>	maambmb: hmm, the docs are not clear if those 25 certs are a hard limit. it might be worth requesting an increase (assuming that, say, 100, would help you)
T 1600255128 18<deko18>	https://docs.aws.amazon.com/elasticloadbalancing/latest/application/load-balancer-limits.html
T 1600255164 18<maambmb18>	Ah - interesting. Yeah thats definitely worth a punt - it'll be the least hassle
T 1600255319 18<wyoung18>	maambmb: Do you need more than 25 domains if all are wildcard or multiple domain certs?
T 1600255322 18<wyoung18>	and / or
T 1600255384 18<maambmb18>	Hi wyoung: yeah, its a URL shortening service. Customers will need to register their own domains for branded links -so I won't be able to capture multiple domains under a wildcard
T 1600255395 18<maambmb18>	unless I somehow get the cert for *.com :D
T 1600255469 18<wyoung18>	Right.  You could roll your own load balancer using EC2 and your proxy of choice.
T 1600255509 18<wyoung18>	You could stick a network load balancer in front if you want to distribute between EC2 load balancers.
T 1600256569 18<maambmb18>	Thanks @wyoung! Appreciate the suggestions. Am gonna look into everything you and @deko have suggested
T 1600256878 18<wyoung18>	haproxy is one example but there are many others
T 1600259232 18<rexwin18>	I have two instances one running as staging and another as development server. the dev server site loads fast while the staging server takes three-five minutes to load. where to look to diagnose this issue?
T 1600259276 18<rexwin18>	apache, htaccess and rewrite rules are not the issue.
T 1600259370 18<wyoung18>	instances of what? ECS, EC2, ElasticBean Stalk, etc..?
T 1600260151 18<deko18>	and how do they differ? (the parts that you're aware of -- instance type, storage class, AZ, db backend, ...)
T 1600260179 18<rexwin18>	they are ec2 instances
T 1600260231 18<rexwin18>	I see that all of them are similiar
T 1600260379 18<deko18>	if you have a webserver: do you see differences between dev/stage when requesting a static page?
T 1600260501 18<rexwin18>	static pages loads faster in both the machines( same speed). but the staging server has a higher ttfb (time to first byte) when loading a dynamic home page
T 1600260564 18<rexwin18>	it loads but takes a solid three-five minutes
T 1600260615 18<deko18>	so it's not the network, but related to the (session) startup of the application. i'd start digging there, i.e. profiling the application code (how long to database connect, how long for which query etc.)
T 1600260674 18<donov18>	rexwin, have you used the same AMI and the user data ?
T 1600260681 18<rexwin18>	ok ty. I will take your suggestions
T 1600260721 18<rexwin18>	I have look for that and client is not present at the moment
T 1600260725 18<deko18>	such a big difference usually means soemthing bad is happening in the database (e.g. very bad query plan), or there is some timeout involved (e.g. dns lookup)
T 1600260787 18<rexwin18>	we are using IP address to access and hence there is no dns lookup problems
T 1600260830 18<deko18>	i remember some customer pages that loaded something from f*cebook, and when facebook was down, their site wouldn't load either (or only after the fb connection timeouted)
T 1600260853 18<deko18>	so it could be any external thing involved
T 1600260864 18<rexwin18>	ty deko.
T 1600277235 18<impermanence18>	https://bpa.st/W2KA
T 1600277242 18<impermanence18>	any idea why this eksctl config is not picking up my env vars?
T 1600277258 18<impermanence18>	eksctl is just saying 'Error: --region=${AWS_REGION} is not supported' lol
T 1600278397 18<s1718>	how are you executing eksctl?
T 1600278794 18<As4xk18>	Hi. We're want to move data from a few RDBMS (old source of truth) over to S3 (new source of truth). We will also push some of this data to elasticsearch to make it searchable. Changes to data in S3 will be sendt to ES by a Lambda function triggered by S3 events. At least this is the plan. What is a good partitioning of the data? One "huge" JSON file of 500k records, something in between, 500k small JSON files?
T 1600278911 18<Pilate18>	that would probably depend mostly on what you plan to do with it, will you be adding more? will you be deleting? will multiple things need to do those at the same time? whats the actual size?
T 1600279088 18<As4xk18>	The size of each record is < 1KB. We will do both changed, deletions, and create new records. All changes will come in batches, and delays in "propagating" the changes is not an issue.
T 1600279107 18<As4xk18>	I'm leaning towards 500k small files, but I can't really say if that's the best solution. I'm not that experienced with S3, og AWS in general. What are the pros/cons of having many small files? Will it, for example, be slow to list all files in a bucket? And, if 1 large file: is it possible to list records inside the file without downloading the whole file first?
T 1600279157 18<As4xk18>	Is it even possible to do operations inside the "huge" file at all (I have just assumed it is)?
T 1600279856 18<Pilate18>	no, s3 operations are basically 'put' 'get' and 'delete
T 1600279863 18<Pilate18>	for whole files only
T 1600279868 18<Pilate18>	s3 as a db is not a great plan
T 1600280110 18<As4xk18>	Oh. Then I guess it will have to be many small files. We don't feel comfortable using ES as source of truth, so that's why we put it in S3. All clients/frontends will interact with ES only.
T 1600280115 18<As4xk18>	Thanks for your help :)
T 1600281596 18<mspo18>	s3-as-a-db costs a fortune
T 1600281610 18<mspo18>	api calls also have a price
T 1600282600 18<mspo18>	anyone streaming RDS -> Google BigQuery?
T 1600283487 18<jwr18>	s3-as-a-db is literally a service, Athena.
T 1600283982 18<JordiGH18>	Any idea what I may need to do so that Firefox remembers my web login to AWS?
T 1600284029 18<JordiGH18>	I had it working and I accidentally my ~/.mozilla and now I gotta dig into my password file every day to log in, because it's so fucking secure to be logged out every day from the same IP address  and same browser.
T 1600284191 18<jwr18>	install lastpass?
T 1600284933 18<JordiGH18>	Hm, I think I might have installed it at some point and then deleted it.
T 1600284949 18<JordiGH18>	Okay, I'll try that, thanks.
T 1600286957 18<dtrott18>	Is there any tooling similar too: https://github.com/Nextdoor/nd_okta_auth  but for setups that are using AWS federated login directly to Google Idp ?
T 1600293683 18<illuminatedwax18>	is anyone else having issues with IAM console? I keep getting errors like "We encountered the following errors while processing your request:
T 1600293684 18<illuminatedwax18>	Http request timed out enforced after 999ms "
T 1600294321 18<bzwzgldny18>	aws is having IAM failures
T 1600294523 18<raymond__18>	Has anyone getting a Yubi working with the AWS CLI?
T 1600295278 18<cyp3d18>	IAM?
T 1600295281 18<cyp3d18>	OOF
T 1600296133 18<wyoung18>	bzwzgldny: In which regions?
T 1600296140 18<wyoung18>	wait, IAM is global
T 1600296149 18<wyoung18>	D:
T 1600296197 18<cyp3d18>	haha
T 1600296201 18<cyp3d18>	iam.amazonaws.com
T 1600296202 18<cyp3d18>	rip
T 1600296514 18<bzwzgldny18>	https://status.aws.amazon.com/ says iam having issues
T 1600296519 18<wyoung18>	yup
T 1600296543 18<wyoung18>	I looked at that when you first mentioned IAM is having issues.
T 1600297385 18<wyoung18>	Oh well, as long as it doesn't affect authentication (which it is reported it doesn't) then I am all good.  I don't need to roll out any new environments today.
T 1600297713 18<cyp3d18>	it breaks terraform but its late enough here
T 1600297717 18<cyp3d18>	tomorrow is another day
T 1600297739 18<wyoung18>	Tomorrow just started here :)
T 1600297750 18<cyp3d18>	yeah its 5 pm here haha
T 1600297754 18<wyoung18>	09:10 on a Thursday
T 1600297778 18<wyoung18>	Time to start smashing out code!
T 1600297787 18<cyp3d18>	code of choice?
T 1600299410 18<kf4yey18>	Evening all.
T 1600299441 18<kf4yey18>	What is the best way to see what dependencies may be stopping someone from deleting a vpc?
T 1600299458 18<kf4yey18>	I want to do some cleanup on my acount and I want to get rid of a bunch of things I don't use anymore.
T 1600301054 18<mjh438618>	I'm guessing if you try to delete the VPC it would tell you the dependencies stopping it being deleted... albeit it one by one...
T 1600339720 18<Ellipsis75318>	When using the CDK, is there a way to invoke a lambda and wait for it? I need a lambda from stack-1 to finish before it deploys stack-2.
T 1600349000 18<arossouw18>	is the database the last thing you should migrate?
T 1600351615 18<deko18>	arossouw: that very much depends on your situation and constraints. in most situations, it makes sense to do that, especially if you can work with a replica for some (or even all) of your applications
T 1600351631 18<arossouw18>	ok
T 1600352407 18<Joel18>	jwr this isn't much to look at but: https://gist.github.com/throwaway8787/bf462caf7df1fd85fb00017372bf5f29
T 1600352429 18<Joel18>	took me a while to figure out the default named item is the name of the dynamic block, and not the variables
T 1600352469 18<Joel18>	gah, whoops: https://gist.github.com/throwaway8787/fe88ede90c6c5443adf2f4f3c33992a5
T 1600352483 18<deko18>	arossouw: how did your talk about external support go, btw?
T 1600352528 18<arossouw18>	my boss says, he realizes its more complicated than originally thought
T 1600352537 18<arossouw18>	he is considering help from a partner
T 1600352552 18<arossouw18>	Since i couldn't get DMS to work with postgres community to amazon rds
T 1600352578 18<arossouw18>	which is a relief
T 1600352581 18<jwr18>	Joel: so you're able to pass in a list or a map or something and loop over it creating those lifecycle rules?
T 1600352670 18<arossouw18>	but also it will help to have assistance from skilled staff at amazon, since there are many parts to our infrastructure that is inter-dependent
T 1600352809 18<Pilate18>	eew aws redesign removed my top buttons, the nerve of these people
T 1600353053 18<deko18>	arossouw: glad to hear it went well
T 1600353065 18<arossouw18>	thanks
T 1600353081 18<arossouw18>	tomorrow i will be trying to convert postgres community to aurora postgres
T 1600353101 18<arossouw18>	first with schema conversion tool and then dms
T 1600353131 18<deko18>	i never really played with aurora; is it more involved then, say, pg_dump|pg_restore?
T 1600353153 18<arossouw18>	yes, you have to configure data migration services
T 1600353216 18<arossouw18>	data migration services, you setup a replication aurora instance and then a master aurora instance, the endpoints then connect from your postgres community to the master aurora instance
T 1600353224 18<arossouw18>	or something like that. Its been a while
T 1600353268 18<deko18>	you do? you mean for an incremental migration? (or whatever it's called there when you do something like log-shipping)
T 1600353303 18<Hejkki18>	thanks for everyone, even tho i was mainly idling here
T 1600353319 18<kj18>	Question about EBS encryption. The only cons of using the default aws/ebs key is if we want to share an ami or snapshot to another account. Anything else?
T 1600353319 18<deko18>	huh. :)
T 1600353348 18<deko18>	well, technically, aws still has the ability do decrypt.
T 1600353389 18<arossouw18>	deko: i suspect its full migration, there is a ongoing replication instance that writes to the aurora master
T 1600353841 18<Joel18>	jwr yeah, I shouldn't have left that piece out haha
T 1600353886 18<Joel18>	jwr https://gist.github.com/throwaway8787/f7ebd89402794703a70fb47f244ae8f5
T 1600353943 18<deko18>	oh by the way... PSA: if you test T4g instances, double-check the credit specification. mine was set to Standard, so the performance was really bad. (once changed to Unlimited, it was a joy)
T 1600353951 18<Joel18>	jwr you can pass in a list of those
T 1600354149 18<mazula18>	hi how to link route 53 to my instances in ecs ?
T 1600354208 18<Joel18>	mazula most of us needs load balancers, and do it that way, if you don't need a load balancer, then you're lookign at service discovery.
T 1600354232 18<mazula18>	I have just one instance for each of my microservices for now
T 1600354242 18<deko18>	mazula: often you'd point them to a load balancer instead; to directly point to ecs tasks, you'd have to ALIAS to the task's network interface (at least i think that should be possible)
T 1600354265 18<mazula18>	if the instance of the microservice B die, the microservie B die because there is no replica
T 1600354318 18<mazula18>	service discovery or network interface?
T 1600354487 18<deko18>	i'd guess service discovery is what you want for microservice architecture
T 1600354675 18<Joel18>	you can potentially get around it all if your services talk through queues
T 1600355140 18<mazula18>	I use rabbitmq
T 1600355154 18<mazula18>	but I want to access to my website and an api gateway with a domain name
T 1600356893 18<mazula18>	I don't think I need to use the service discovery stuff ? I have just to map two domain to two ecs instances?
T 1600356944 18<deko18>	what's an ecs instance? you mean ec2 instance? or ecs task?
T 1600357013 18<mazula18>	ecs task
T 1600357161 18<mazula18>	deko do you think that I can map a domain name to an ecs task?
T 1600357187 18<Lloyd18>	of course you can, you'd just have to do it manually within the task
T 1600357191 18<deko18>	mazula: you certainly can, i'm just wondering if it makes sense in this context
T 1600357193 18<Lloyd18>	or use an ALB
T 1600357203 18<Lloyd18>	or NLB
T 1600357237 18<mazula18>	I don't have a load balancer because the architecture is too young
T 1600357290 18<Lloyd18>	don't understand what that means
T 1600357377 18<mazula18>	I don't have any users
T 1600357392 18<mazula18>	so one instance for each microservices in my ecs task
T 1600357523 18<deko18>	i'd say, use SD, or an ALB (unless $20/month kills you; i think it's even in the free tier) ... it will save trouble down the road
T 1600357681 18<mazula18>	so two ELB? one for my website, one for my api gateway?
T 1600358199 18<deko18>	that depends on your architecture; i'd assume that you can combine those, or leave the API Gw without LB entirely
T 1600358270 18<mazula18>	SD is more advanced/new that the ALB no? deko
T 1600358281 18<mazula18>	I read https://medium.com/inspiredbrilliance/ecs-integrated-service-discovery-18cdbce45d8b
T 1600360741 18<Keshu221218>	hello
T 1600361131 18<rexwin18>	hi keshu2212
T 1600362885 18<funhouse18>	Hello, I am trying to set up a lets encrypt wildcard subdomain, on this page --> https://certbot-dns-route53.readthedocs.io/en/stable/
T 1600362894 18<funhouse18>	It says to create a policy file, do you know where I can generate this?
T 1600363382 18<jwr18>	funhouse: that's just an IAM policy
T 1600363397 18<funhouse18>	jwr ok
T 1600363750 18<zumba_addict18>	what aws iam command should I use to display all the permissions of an IAM policy?
T 1600363814 18<zumba_addict18>	this is failing - `aws --profile prods iam get-role-policy --role-name AWS-SOX-CISF --policy-name AWS-SOX-CISF_access_policy`
T 1600363869 18<zumba_addict18>	The error is `An error occurred (NoSuchEntity) when calling the GetRolePolicy operation: The role policy with name AWS-SOX-CISF_access_policy cannot be found.` However, I can see it in IAM console under Policies
T 1600363885 18<jwr18>	zumba_addict: get-policy-version
T 1600363896 18<zumba_addict18>	cool, trying it now
T 1600363982 18<jwr18>	question: if I'm paying for EFS provisioned throughput, should I also be able to use burst credits that have accrued?
T 1600364737 18<funhouse18>	How I would I run this command? route53:ListHostedZones
T 1600364742 18<funhouse18>	I tried aws route53:ListHostedZones
T 1600364754 18<funhouse18>	I just want to make a policy file
T 1600364836 18<zumba_addict18>	why is the report of aws iam get-policy-version different from what I see in IAM console? https://bpa.st/GHCA
T 1600365150 18<jwr18>	to answer my own EFS question, in case anyone is curious, you cannot use burst credits if you pay for provisioned throughput. they continue to accrue, but you can't use them.
T 1600365154 18<cyp3d18>	anyone still seeing IAM issues?
T 1600365168 18<cyp3d18>	Just got TLS handshake timeout from terraform
T 1600365264 18<zumba_addict18>	good info in efs. I'll put it in my notes since we also use efs
T 1600365341 18<jwit18>	funhouse, docs: https://docs.aws.amazon.com/cli/latest/reference/route53/index.html
T 1600365344 18<zumba_addict18>	Is Get:* the same as LIST, READ and WRITE?
T 1600365358 18<funhouse18>	jwit ok thank you
T 1600365373 18<jwit18>	zumba_addict, get:* is not a thing
T 1600365387 18<jwit18>	IAM actions are <service>:<action>
T 1600365483 18<zumba_addict18>	sorry, I was wrong since I typed it manually
T 1600365505 18<zumba_addict18>	I meant `"Action": "glue:Get*"` vs `Limited: LIST, READ, WRITE`. Are they equal?
T 1600365540 18<zumba_addict18>	former is from a aws iam output on terminal and the latter is from IAM consoole
T 1600365543 18<jwit18>	hm. i don't understand your question. what do you mean by "Limited LIST, etc"?
T 1600365555 18<zumba_addict18>	look at https://bpa.st/GHCA
T 1600365580 18<zumba_addict18>	screenshot is from IAM Console-> Policies
T 1600365617 18<jwit18>	oh that spot in the console is just giving you a rolled up summary. the actual policy is in the JSON
T 1600365666 18<zumba_addict18>	oh wow, it's the same when I clicked JSON tab
T 1600365698 18<zumba_addict18>	thanks
T 1600365757 18<jwit18>	np
T 1600365998 18<zumba_addict18>	looks like `aws iam list-policies` is displaying policies that were created by Amazon. I only want ours
T 1600366094 18<jwit18>	zumba_addict, docs: https://docs.aws.amazon.com/cli/latest/reference/iam/list-policies.html
T 1600366121 18<zumba_addict18>	that's what I was reading though I haven't completed it yet
T 1600366157 18<zumba_addict18>	ah scope or local
T 1600366196 18<zumba_addict18>	or/to
T 1600366945 18<jwr18>	anybody have war stories about transitioning from a mono-account to a multi-account setup? what are the things that bit you?
T 1600366990 18<Joel18>	jwr access is the only thing you'll have to deal with
T 1600367010 18<Joel18>	jwr in some cases people never log into the parent, and in others it's the jumping point
T 1600367024 18<Joel18>	if you break it by environment everything ends up pretty a-ok imho
T 1600367034 18<Joel18>	ALSO
T 1600367038 18<Joel18>	DELETING AN ACCOUNT IS A BITCH
T 1600367051 18<Joel18>	so make sure, if you make an account, whatever email address it's made under, you have TOTAL control over.
T 1600367071 18<Joel18>	not bob@somecontractor.com, you make it ops+bobsomecontractor@mycompany.com
T 1600367103 18<Joel18>	before you can remove an account you have to put a credit card on file, phone verify, AND only the root account can close the account.
T 1600367135 18<jwr18>	yeah, i was thinking of leaving prod in the account where it already is, make that the organization master account, and then move dev/test/stage/whatever to subaccounts. and for access, i've seen other shops create an AWS account which does nothing but host IAM users, and then users can switch-role to the real accounts.
T 1600367140 18<Joel18>	also dns can be tricky, depending on how you have things set up
T 1600367193 18<Joel18>	tf makes it easier these days, thankfully, by being able to do multi account in a single run
T 1600367217 18<mspo18>	there's a checkbox for cross-vpc dns resolution
T 1600367224 18<mspo18>	cross-account even
T 1600367232 18<Joel18>	mspo whaaaaaa
T 1600367244 18<mspo18>	I think?
T 1600367283 18<Joel18>	mspo where where where?
T 1600367311 18<mspo18>	looking for it
T 1600367319 18<Joel18>	don't tease me :P
T 1600367373 18<mspo18>	create-vpc-association-authorization
T 1600367376 18<mspo18>	that maybe?
T 1600367442 18<Joel18>	mspo sounds interesting for sure
T 1600367466 18<mspo18>	vpc -> peering connections -> DNS -> "DNS resolution from requester VPC to private IP
T 1600367471 18<mspo18>	Enabled"
T 1600367500 18<mspo18>	"If enabled, the public DNS hostname of an instance in the accepter VPC resolves to its private IP address when queried from an instance in the requester VPC."
T 1600367519 18<mspo18>	that's the checkbox I was looking for
T 1600367544 18<Joel18>	https://aws.amazon.com/premiumsupport/knowledge-center/private-hosted-zone-different-account/
T 1600367558 18<Joel18>	yeah, looks like it's for private dns
T 1600367577 18<mspo18>	I don't know if those are the same thing
T 1600367585 18<Joel18>	plus, you have to peert
T 1600367587 18<Joel18>	peer
T 1600367596 18<Joel18>	I wouldn't want my staging and prod to peer
T 1600367602 18<Joel18>	but I can see this as being very cool in a lot of cases
T 1600367609 18<mspo18>	aws route53 associate-vpc-with-hosted-zone might not require it
T 1600367649 18<Joel18>	might not, but at the end of the day it is for private zones
T 1600367660 18<mspo18>	yeah what were you talking about?
T 1600367670 18<Joel18>	public dns.
T 1600367689 18<Joel18>	as in webapp-staging.foo.com isn't the greatest any more when multi account
T 1600367706 18<Joel18>	safer to put staging.foo.com in prod, and in staging, then add webapp.staging.foo.com, imho
T 1600367713 18<Joel18>	add it to staging*
T 1600367743 18<Joel18>	lots of ways to do it, just a bump in going multi account is all
T 1600367745 18<Joel18>	requires some thought
T 1600367807 18<mspo18>	yeah I just have two accounts and it's annoying :)
T 1600367814 18<mspo18>	I'd much rather have one
T 1600367832 18<mspo18>	two active, 10 idle, ofc
T 1600367836 18<Joel18>	haha
T 1600367853 18<Joel18>	I'm in the 20's
T 1600367855 18<Joel18>	but it's worse
T 1600367859 18<Joel18>	there's three roots *barf*
T 1600376388 18<jadugar18>	is there a channel for aws security discussion?
T 1600376436 18<deko18>	i'd suggest this one
T 1600376455 18<jadugar18>	thanks
T 1600377891 18<ska18>	Do AWS Marketplace ami's cost more than community ones?
T 1600377965 18<Joel18>	ska prices are listed, some charge, some don't.
T 1600378078 18<ska18>	Is it generally better to use the official AWS images for performance reasons?
T 1600378084 18<ska18>	or any other reason?
T 1600378139 18<ska18>	When I select Community ami, the table doesn't show the cost columns.
T 1600378356 18<ska18>	aws is mind-blowingly complex
T 1600378421 18<Joel18>	If you're a hobbyist, there's far better hosts to use.
T 1600378440 18<Joel18>	Or instead of ec2, you might want to check out lightsail
T 1600378501 18<ska18>	I use Linode for my own stuff. This is a different gig though.
T 1600378543 18<Joel18>	I would generally stick with the maker of a thing
T 1600378552 18<Joel18>	if I want to use ubuntu, I'd want to make sure it's the official one
T 1600378565 18<Joel18>	if I was looking to ease in, I'd probably check out amazon linux 2, as it has some niceties pre-installed
T 1600378584 18<Joel18>	personally, depending on what you're doing, I would say avoid ec2, and learn how to use ecs backed with fargate
T 1600378590 18<Joel18>	just run yourself some things in docker
T 1600378864 18<ska18>	I was to standup a Debian EC2 instance to run Python and access an RDS. Need 16GB memory.. I looking at community images from the daily-builds of debian 10.
T 1600382339 18<mspo18>	debian wiki has the image id's iirc
T 1600382344 18<mspo18>	they are per-region so that's the tricky part
T 1600382401 18<mspo18>	ttps://wiki.debian.org/Cloud/AmazonEC2Image https://wiki.debian.org/Cloud/AmazonEC2Image/Wheezy
T 1600382418 18<mspo18>	for this one they're giving aws cli commands https://wiki.debian.org/Cloud/AmazonEC2Image/Jessie
T 1600382421 18<mspo18>	like
T 1600382433 18<mspo18>	do it yourself, luser ;)
T 1600390813 18<clmg18>	How can I update an item in DynamoDB without writing the `UpdateExpression` by hand, e.g. if I don't know what keys are being updated?
T 1600390837 18<clmg18>	Basically I'm looking for an abstraction over `updateItem`
T 1600391412 18<clmg18>	More concretely: I'm looking for a way to generate an UpdateExpression from a json object.
T 1600395344 18<zumba_addict18>	I'm on this page and I'm having a hard time trying to figure out which one can be used to list or display the attached policy to an IAM role - https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html
T 1600395423 18<zumba_ad_18>	hmm, got disconnected right away. Not sure if my question got posted
T 1600395428 18<zumba_ad_18>	I'm on this page and I'm having a hard time trying to figure out which one can be used to list or display the attached policy to an IAM role - https://boto3.amazonaws.com/v1/documentation/api/latest/reference/services/iam.html
T 1600397851 18<zumba_addict18>	got it working finally, lol, list_attached_role_policies
T 1600399769 18<gswallow18>	Have y'all noticed...like...extreme latency with AWS services as of late?
T 1600399816 18<gswallow18>	Very delayed delivery of cloudtrail events.  Deleting resources that are interrelated (e.g. EC2 instances and attached security groups) require two minutes of patience?
T 1600405996 18<wyoung18>	gswallow: There were issues with IAM yesterday, I am not noticing anything now though.
T 1600416454 18<woj-tek18>	database-1
T 1600416457 18<woj-tek18>	oops.
T 1600416460 18<woj-tek18>	Hi. Is it possible to retrieve/change RDS' MySQL admin credentials? I can the the master username under Configuration->Availability but cannot find the option to set new password.
T 1600416523 18<deko18>	does https://aws.amazon.com/premiumsupport/knowledge-center/reset-master-user-password-rds/ help?
T 1600416575 18<woj-tek18>	deko: I don't know how I missed it. Thank you!
T 1600416596 18<deko18>	happens. yw. :)
T 1600421959 18<deko18>	someone really likes lambda: https://www.youtube.com/watch?v=zMua0cuhFnc
T 1600429276 18<angular_mike18>	can aws CLI athena command start-query-execution be used to specify output file format, e.g parquet or orc?
T 1600433139 18<boxrick18>	I am using ECR and fargate ECS. I would like to create an ECR repo then allow access to it from everything within a bunch of AWS accounts
T 1600433164 18<boxrick18>	Even if I allow that as a permission on ECS, I understand Fargate still requires a task execution role
T 1600433172 18<boxrick18>	Is this true, and is there any workaround?
T 1600433678 18<deko18>	boxrick: why would you want to work around that?
T 1600438342 18<Joel18>	boxrick ecs has two iam roles, execution, and task.
T 1600438357 18<Joel18>	boxrick execution is what ecs needs, task is what the container needs to run
T 1600438394 18<Joel18>	boxrick ecs by default has access to nothing, you must give it access to things, regardless if others say it can access them.
T 1600438755 18<radicate18>	Hey guys, quick question - if I have EC2 nodes that are stopped, do I pay for them at all?
T 1600438850 18<selckin18>	don't think so, but if they have volumes attached etc, they are billed
T 1600438933 18<radicate18>	Oh okay
T 1600438937 18<radicate18>	Thank you selckin
T 1600438960 18<radicate18>	So detaching them should stop them from being billed?
T 1600438972 18<radicate18>	Or should I delete volumes to stop them from being billed?
T 1600439034 18<selckin18>	https://aws.amazon.com/premiumsupport/knowledge-center/ebs-charge-stopped-instance/
T 1600439044 18<radicate18>	Oh thanks!
T 1600439078 18<Dejan18>	is there a more efficient way of copying large amount of data from one bucket to another than s3-dist-cp ??
T 1600439152 18<Keshu221218>	Hello, I am deploying a django app on elastic beanstalk, and I am facing an issue regarding static files, can someone please help?
T 1600439753 18<Pilate18>	Dejan: ive seen rclone suggested a few times
T 1600439874 18<boxrick18>	Deko: Since I effectively want to create the ECR repo with the codebase, then allow access from different ECS without modification of the ECR repo.
T 1600439883 18<boxrick18>	Joel: Thanks for that
T 1600439982 18<boxrick18>	There is nothing sensitive inside these ECR images, so account level access would fix this problem. But it looks like I need to effectively allow every Task Execution role individual access to my ECR repos from what I can see.
T 1600440009 18<Dejan18>	Pilate, thanks - Googling rclone
T 1600440031 18<Dejan18>	it takes s3-dist-cp 1h to list 3M keys, I find that terrible
T 1600440305 18<boxrick18>	So as a use case If I allowed a task execution role such as : ECR:* to access "Resource": "*" , then on ECR ( if a different account ) shared access to the account which this Task execution role and Fargate cluster lived in it would work ?
T 1600440511 18<Joel18>	boxrick task execution role is for the running container.
T 1600440576 18<Joel18>	boxrick you should be able to define a policy on a repo to let all ecs iam roles to access it.
T 1600440592 18<Joel18>	https://docs.aws.amazon.com/AmazonECR/latest/userguide/repository-policies.html
T 1600441534 18<Joel18>	boxrick alternatively, if you want the public, put them on dockehrub
T 1600444604 18<kgirthofer18>	anyone using terragrunt?
T 1600447289 18<Keshu221218>	Hello I have hosted record as www.xyz.com and a eb envivronment as abc, I want to set it as www.xyz.com/abc
T 1600447317 18<Keshu221218>	can someone tell me how can I achieve this thing?
T 1600447597 18<Keshu221218>	if someone reading please reply, atleast inform, if I asked something wrong.
T 1600449974 18<Keshu221218>	hey someone is here ?
T 1600450311 18<rexwin18>	keshu, can you please elaborate more on the issue?
T 1600450381 18<Keshu221218>	I have migrate my record from godaddy server to amazon 53
T 1600450390 18<Keshu221218>	*migrated
T 1600450416 18<kgirthofer18>	DNS doesn't handle the portion of hte URL after .com
T 1600450416 18<Keshu221218>	and my one record name is protrainy.com
T 1600450424 18<kgirthofer18>	that's your application
T 1600450428 18<kgirthofer18>	webserver
T 1600450441 18<Keshu221218>	and I want to set my EB instance at protrainy.com/assessment
T 1600450449 18<kgirthofer18>	or use application load balancer
T 1600450464 18<kgirthofer18>	you need to set up your beanstalk application to serve something on that url
T 1600450487 18<Keshu221218>	ok got it kgirthofer
T 1600450496 18<Keshu221218>	and one more thing to ask that
T 1600450548 18<Keshu221218>	I have set my name server to amazon 53 host zone of go daddy domain name
T 1600450569 18<Keshu221218>	and all my other site which I have hsted from another nameserver are not working now
T 1600450602 18<Keshu221218>	is there any way to handle both nameservers one is amazon host zone another is godaddy
T 1600450614 18<kgirthofer18>	so you bought this domain on go daddy, then you told godaddy to route all your DNS to route53, and didn't move over your other records
T 1600450620 18<kgirthofer18>	and now they're failing
T 1600450628 18<kgirthofer18>	just move them over
T 1600450645 18<kgirthofer18>	you can't split up a single domain into multiple DNS servers I don't think, and you probably shouldn't even if you can.
T 1600450659 18<kgirthofer18>	if they're separate domains, then you can just set the DNS server for each domain separately
T 1600450776 18<Keshu221218>	I think I am not able to explain my problem, I was using godaddy domain name and nameserver from cpanel hostel site,
T 1600450802 18<Keshu221218>	 *host
T 1600450824 18<Keshu221218>	and now I have taken my domain name records to amazon 53
T 1600450854 18<Keshu221218>	and now cpanel sites are not working as there I have changes the nameserver to amazon host.
T 1600450892 18<Keshu221218>	so is there any way to move only one subdomain on amazon 53 ?
T 1600451228 18<Keshu221218>	kgirthofer I asked something wrong ?
T 1600451270 18<kgirthofer18>	I don't really understand what it is that you did enough to help you
T 1600451378 18<Keshu221218>	kgirthofer ok sir no problem thank you, main problem is solved , I will look for it.
T 1600451841 18<Keshu221218>	kgirthofer I have set http://appname.elasticbeanstalk.com and I want this  http://elasticbeanstalk.com/appname
T 1600451857 18<kgirthofer18>	DNS doesn't do that
T 1600451859 18<Keshu221218>	can you tell me how can I change this
T 1600451883 18<kgirthofer18>	what webserver are you running
T 1600451885 18<Keshu221218>	in load balancer I didn't get any field change
T 1600452110 18<Keshu221218>	Apache
T 1600452124 18<Keshu221218>	not sure
T 1600452138 18<Keshu221218>	can you tell me how I can check this
T 1600452144 18<Keshu221218>	I am new to all this stuffs
T 1600452240 18<Keshu221218>	my app is running on elastic beanstalk
T 1600452307 18<Keshu221218>	kgirthofer ??
T 1600452381 18<kgirthofer18>	https://www.linode.com/docs/web-servers/apache-tips-and-tricks/apache-configuration-basics/
T 1600452382 18<kgirthofer18>	start here
T 1600452731 18<Keshu221218>	I gone through the doc you share but didn't find relatable which can in http://appname.elasticbeanstalk.com -> http://elasticbeanstalk.com/appname
T 1600452748 18<Keshu221218>	*help
T 1600453563 18<rexwin18>	did you ask in apache, keshu?
T 1600453630 18<Keshu221218>	rexwin not yet
T 1600453750 18<Keshu221218>	https://cloud.google.com/load-balancing/docs/url-map
T 1600453760 18<Keshu221218>	can you look at it
T 1600453778 18<Keshu221218>	but there is no host and path name setting in load balancer name
T 1600453797 18<Keshu221218>	showing
T 1600454008 18<Joel18>	this isn't #gcp
T 1600454010 18<Joel18>	it's ##aws
T 1600454057 18<Keshu221218>	alright
T 1600454087 18<Keshu221218>	but the docs are related to it that is why I was asking
T 1600454116 18<raymond18>	So... turning to a slightly more topical subject. :)
T 1600454156 18<raymond18>	Has anyone had success in getting YubiKey MFA working with the AWS CLI?
T 1600454742 18<Joel18>	raymond try not asking a survey question
T 1600454938 18<Bilge18>	Given the free database tier grants 20 GB disk space, if you allocate 21GB, do you pay for the 1GB extra or do you pay for the entire instance since it no longer qualifies for the free tier?
T 1600455060 18<Joel18>	Bilge I'd guess the 1 personally.
T 1600455069 18<Joel18>	Bilge which db?
T 1600455092 18<Joel18>	aws only has a couple of them ;)
T 1600456153 18<Bilge18>	Postgres
T 1600456157 18<Bilge18>	RDS
T 1600456177 18<Bilge18>	I don't really want just guesses but there doesn't seem to be any clear information on this topic
T 1600456821 18<raymond__18>	Joel: Ok... How does one work with the AWS CLI and YubiKey for MFA?
T 1600456864 18<Joel18>	raymond__ what issue are you running into?
T 1600456942 18<Joel18>	Bilge you'll have to ask aws billing then
T 1600457053 18<Joel18>	raymond__ feel free to mention my nickname when you ask a real question, I'll be happy to help.
T 1600457067 18<raymond__18>	 Joel: get-session-token's --token-code only accepts numeric values
T 1600457095 18<raymond__18>	Joel: the YubiKey generates a text string 48-64 characters long.
T 1600457154 18<Joel18>	raymond FIDO-U2F or OATH-TOTP?
T 1600457179 18<Joel18>	what document are you following?
T 1600457209 18<raymond18>	Joel: I can't find any good documentation on getting this working, that's part of my issue.
T 1600457252 18<Joel18>	raymond did you ask yubikey?
T 1600457267 18<Joel18>	I see several docs, and several routes, search terms: yubikey aws cli
T 1600457269 18<raymond18>	I've looked on their site as well, yes.
T 1600457271 18<Joel18>	https://scalesec.com/blog/why-your-yubikey-wont-work-with-aws-cli/
T 1600457274 18<Joel18>	https://pypi.org/project/awscli-plugin-yubikeytotp/
T 1600457281 18<Joel18>	I'd suggest asking them.
T 1600457299 18<Joel18>	I highly doubt you're the first, as evident by all the search results with ways to make it work.
T 1600457393 18<Bilge18>	Joel: how do I contact AWS billing?
T 1600457394 18<Joel18>	AWS currently supports using U2F security keys only in the AWS Management Console. Using U2F security keys for MFA is not currently supported in the AWS CLI and AWS API, or for access to MFA-protected API operations.
T 1600457396 18<Joel18>	https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_mfa_u2f_supported_configurations.html
T 1600457414 18<Joel18>	raymond all seems pretty well covered via a basic search
T 1600457422 18<Joel18>	Bilge did you ask google?
T 1600458359 18<Bilge18>	Hell no
T 1600458847 18<jwr18>	Joel: I talked about doing container definitions as HCL instead of a json templatefile() and now that I'm building it out, I'm kind of liking it. I'm able to reuse a lot of stuff. Like, a bunch of my TD's have an nginx sidecar and all the parameters for that sidecar are the same across all TD's, so I can define it once as a local var and just reuse it anywhere. It's a nice improvement.
T 1600459647 18<Joel18>	Bilge obviously.
T 1600459669 18<Joel18>	jwr sounds very nice! in theory you could have templated that in too?
T 1600459754 18<jwr18>	Joel: templated reuse? Like have one json file with the nginx config and another json file of my application and combine them via HCL?
T 1600459767 18<jwr18>	Joel: probably yeah
T 1600459790 18<jwr18>	still wouldn't support comments though, as HCL does.
T 1600459918 18<Joel18>	yeah, duh, forgot about that, you mentioned that before.
T 1600463102 18<dre18>	if heroku is just running on AWS
T 1600463115 18<dre18>	wouldn't it be cheaper for me to convert my shit to aws ?
T 1600463783 18<Keshu221218>	hello
T 1600468815 18<wyoung18>	hi
T 1600479621 18<droptone18>	Hi everyone, I have a question. I've got an OS-level application that is using a node.js API for authentication and community functionality, such as messaging, user posts, etc. I'm deploying an S3 bucket for housing user avatars, but also, I want users to have the ability to upload potentially-sensitive files, such as Excel documents and the like. What is the optimal way to configure my S3 bucket for this
T 1600479627 18<droptone18>	purpose? The user clients will be coming from their local machines, so their IPs can be anywhere and everywhere. Is there a way to disable public access (as Amazon recommends) when enabling an S3 bucket? I'm not sure how I should develop authentication from the client-side so, if authenticated on my API, they have access to the S3 bucket, but if not they couldn't visit the files in the S3 bucket manually.
T 1600479684 18<droptone18>	I'm using session-based authentication to my node.js API - perhaps I could develop a way that, when a user requests a document, it hits my API, confirms auth, then kicks over to the S3 bucket in a secure manner? Not sure how this might be done.
T 1600479750 18<droptone18>	Or, perhaps, when a new user account is created, an account for the S3 bucket in question would be created as well? Could that be automated?
T 1600481501 18<droptone18>	Ok, so let's put it this way: If I want to create an S3 bucket that only allows authenticated users to access files, should I enable "block all public access"?
T 1600485701 18<a118>	Is anyone aware of an up-to-date program similar to awsless?
T 1600493904 18<twainwek18>	what is awsless
T 1600510499 18<wyoung18>	o/
T 1600598680 18<rexwin18>	I created a user in IAM but there is no way to set password for that
T 1600598765 18<deko18>	should be there: Users > myuser > Security credentials tab > Console password
T 1600598871 18<rexwin18>	ty
T 1609963182 19*	Now talking on 22##aws
T 1609963182 22*	Topic for 22##aws is: Amazon Web Services discussion: S3, EC2, Lambda, EFS, DynamoDB, RDS, ECS, VPC, etc | http://aws.amazon.com | If no op is around, PM gchristensen.
T 1609963182 22*	Topic for 22##aws set by 26gchristensen (24Wed Jan  8 12:24:11 2020)
T 1609964448 18<impermanence18>	does anyone have any opinions on eks clusters and vpcs?  by this I mean...currently I split vpcs based on privacy concerns, i.e. the classical "public", "private", "data", "hipaa" (maybe, maybe not); but I'm about to start spinning up EKS clusters for various products and of course I will follow this guideline, but I'm wondering if I should be
T 1609964449 18<impermanence18>	confining a cluster per vpc or if there's anything there I'm missing
T 1609965827 18<zumba_addict18>	folks, I'm always confused with bucket policy. Am I right that Principal is the one that will access the resource?
T 1609965979 18<zumba_addict18>	my guess was correct, https://docs.aws.amazon.com/AmazonS3/latest/dev/s3-bucket-user-policy-specifying-principal-intro.html
T 1609966590 18<zumba_addict18>	I placed the arn of our lambda function in "AWS" property but botocore said invalid principal. What's up with that?
T 1609966758 18<zumba_addict18>	is this doc saying that principal can only come from IAM? https://aws.amazon.com/premiumsupport/knowledge-center/s3-invalid-principal-in-policy-error/
T 1609967052 18<zumba_addict18>	going to try the iam user associated with the lllambda fn
